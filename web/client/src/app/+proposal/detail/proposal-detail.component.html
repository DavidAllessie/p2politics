<a routerLink="../.."><md-icon class="arrow_back">arrow_back</md-icon></a>

<div class="action-bar">
    <button *ngIf="user && user.isAdmin" md-raised-button (click)="onAddProposal()" class="button-with-icon">
        <md-icon>add</md-icon> Nieuw vervolg voorstel
    </button>
</div>

<div class="proposal container">
    <md-toolbar *ngIf="userPending" class="notification">
        Checking authentication...
    </md-toolbar>
    <md-toolbar *ngIf="!userPending && user && !user.isVoter" class="notification md-warn">
        You have no permission to vote on this proposal
    </md-toolbar>

    <h2 class="proposal-title">
        {{proposal.title}}
        <span class="category-subtitle">{{proposal.category}}</span>
    </h2>
    <p class="proposal-description">{{proposal.description}}</p>

    <form (ngSubmit)="onVoteConfirm()" [formGroup]="formGroup" [class.hidden]="!user || !user.isVoter">
        <fieldset>
            <div class="answer-row">
                <md-button-toggle-group #answer="mdButtonToggleGroup" formControlName="answer">
                    <md-button-toggle value="0">Mee eens</md-button-toggle>
                    <md-button-toggle value="1">Oneens</md-button-toggle>
                </md-button-toggle-group>
            </div>

            <div *ngIf="answer.value">
                <textarea name="reason" placeholder="Toelichting..." formControlName="reason"></textarea>

                <button type="submit" md-raised-button class="btn-block">Versturen</button>
            </div>
        </fieldset>
    </form>
</div>
